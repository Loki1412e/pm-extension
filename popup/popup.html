<!DOCTYPE html>
<html lang="fr" data-bs-theme="auto">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../libs/bootstrap-5.3.8/bootstrap.min.css" rel="stylesheet">
  <link href="../libs/bootstrap-icons-1.13.1/bootstrap-icons.min.css" rel="stylesheet">
  <link href="popup.css" rel="stylesheet">
</head>
<body>
  <div class="container-fluid p-3" style="width: 320px;">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div class="d-flex align-items-center">
        <img src="../assets/icon-128.png" width="24" height="24" class="me-2">
        <span class="fs-5 fw-bold">Password Manager</span>
      </div>
      <div>
        <button id="toggleTheme" class="btn btn-sm btn-outline-secondary border-0">
          <i id="toggleThemeIconId" class="bi bi-moon-stars-fill"></i>
        </button>
      </div>
    </div>

    <div id="alertSection" class="d-none" role="alert"></div>

    <section id="loginSection" class="d-none">
      <div class="form-floating mb-2">
        <input type="text" class="form-control" id="username" placeholder="Utilisateur">
        <label for="username">Utilisateur</label>
      </div>
      <div class="form-floating mb-2">
        <input type="password" class="form-control" id="password" placeholder="Mot de passe">
        <label for="password">Mot de passe</label>
      </div>
      <div class="d-grid gap-2">
        <button id="login" class="btn btn-primary">Connexion</button>
        <button id="signup" class="btn btn-outline-secondary">Créer un compte</button>
      </div>
    </section>

    <section id="unlockSection" class="d-none">
       <div class="text-center mb-2">
        <i class="bi bi-lock-fill" style="font-size: 2rem;"></i>
        <p class="mb-0 mt-1">Coffre-fort verrouillé</p>
      </div>
      <div class="form-floating mb-2">
        <input type="password" class="form-control" id="masterPassword" placeholder="Mot de passe maître">
        <label for="masterPassword">Mot de passe maître</label>
      </div>
      <div class="d-grid">
        <button id="unlockBtn" class="btn btn-primary">Déverrouiller</button>
      </div>
    </section>

    <section id="mainSection" class="d-none">
      <div class="d-flex align-items-center justify-content-between mb-2">
        <span class="text-muted">Connecté en tant que:</span>
        <strong class="session-username">USER</strong>
      </div>
       <div class="d-grid gap-2">
        <button id="vault" class="btn btn-outline-primary"><i class="bi bi-shield-lock pe-2"></i>Ouvrir le coffre-fort</button>
        <button id="statistic" class="btn btn-outline-secondary"><i class="bi bi-bar-chart pe-2"></i>Statistiques</button>
      </div>
    </section>

    <hr class="my-3">
    <div class="d-flex justify-content-between">
      <button id="options" class="btn btn-sm btn-outline-secondary">
        <i class="bi bi-gear-fill pe-1"></i> Options
      </button>
      <button id="logout" class="btn btn-sm btn-outline-danger d-none">
        <i class="bi bi-box-arrow-right pe-1"></i> Déconnexion
      </button>
    </div>

  </div>
  <script src="popup.js" type="module"></script>
</body>
</html>